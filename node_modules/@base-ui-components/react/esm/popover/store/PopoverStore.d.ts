import * as React from 'react';
import { ReactStore } from '@base-ui-components/utils/store';
import { Timeout } from '@base-ui-components/utils/useTimeout';
import { type InteractionType } from '@base-ui-components/utils/useEnhancedClickHandler';
import { type FloatingRootContext } from "../../floating-ui-react/index.js";
import { type TransitionStatus } from "../../utils/useTransitionStatus.js";
import { type HTMLProps } from "../../utils/types.js";
import { PopoverRoot } from "../root/PopoverRoot.js";
import { PopupTriggerMap } from "../../utils/popupStoreUtils.js";
export type State<Payload> = {
  open: boolean;
  mounted: boolean;
  instantType: 'dismiss' | 'click' | undefined;
  modal: boolean | 'trap-focus';
  transitionStatus: TransitionStatus;
  openMethod: InteractionType | null;
  openReason: PopoverRoot.ChangeEventReason | null;
  stickIfOpen: boolean;
  nested: boolean;
  titleElementId: string | undefined;
  descriptionElementId: string | undefined;
  activeTriggerId: string | null;
  positionerElement: HTMLElement | null;
  popupElement: HTMLElement | null;
  triggers: PopupTriggerMap;
  floatingRootContext: FloatingRootContext;
  payload: Payload | undefined;
  activeTriggerProps: HTMLProps;
  inactiveTriggerProps: HTMLProps;
  popupProps: HTMLProps;
};
type Context = {
  popupRef: React.RefObject<HTMLElement | null>;
  backdropRef: React.RefObject<HTMLDivElement | null>;
  internalBackdropRef: React.RefObject<HTMLDivElement | null>;
  onOpenChange: ((open: boolean, eventDetails: PopoverRoot.ChangeEventDetails) => void) | undefined;
  onOpenChangeComplete: ((open: boolean) => void) | undefined;
  triggerFocusTargetRef: React.RefObject<HTMLElement | null>;
  beforeContentFocusGuardRef: React.RefObject<HTMLElement | null>;
  preventUnmountingRef: React.RefObject<boolean>;
  stickIfOpenTimeout: Timeout;
};
declare const selectors: {
  open: (state: State<unknown>) => boolean;
  mounted: (state: State<unknown>) => boolean;
  activeTriggerId: (state: State<unknown>) => string | null;
  activeTriggerElement: (state: State<unknown>) => HTMLElement | null;
  positionerElement: (state: State<unknown>) => HTMLElement | null;
  popupElement: (state: State<unknown>) => HTMLElement | null;
  triggers: (state: State<unknown>) => PopupTriggerMap;
  instantType: (state: State<unknown>) => "click" | "dismiss" | undefined;
  transitionStatus: (state: State<unknown>) => TransitionStatus;
  openMethod: (state: State<unknown>) => InteractionType | null;
  openReason: (state: State<unknown>) => import("../index.js").PopoverRootChangeEventReason | null;
  modal: (state: State<unknown>) => boolean | "trap-focus";
  stickIfOpen: (state: State<unknown>) => boolean;
  floatingRootContext: (state: State<unknown>) => FloatingRootContext<import("../../floating-ui-react/index.js").ReferenceType>;
  titleElementId: (state: State<unknown>) => string | undefined;
  descriptionElementId: (state: State<unknown>) => string | undefined;
  payload: (state: State<unknown>) => unknown;
  activeTriggerProps: (state: State<unknown>) => HTMLProps;
  inactiveTriggerProps: (state: State<unknown>) => HTMLProps;
  popupProps: (state: State<unknown>) => HTMLProps;
};
export declare class PopoverStore<Payload> extends ReactStore<State<Payload>, Context, Selectors> {
  constructor(initialState?: Partial<State<Payload>>);
  setOpen: (nextOpen: boolean, eventDetails: Omit<PopoverRoot.ChangeEventDetails, "preventUnmountOnClose">) => void;
  static useStore<Payload>(externalStore: PopoverStore<Payload> | undefined, initialState: Partial<State<Payload>>): PopoverStore<Payload>;
  private disposeEffect;
}
type Selectors = typeof selectors;
export {};