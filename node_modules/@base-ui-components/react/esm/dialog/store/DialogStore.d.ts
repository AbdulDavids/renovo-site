import * as React from 'react';
import { ReactStore } from '@base-ui-components/utils/store';
import { type InteractionType } from '@base-ui-components/utils/useEnhancedClickHandler';
import { type DialogRoot } from "../root/DialogRoot.js";
import { type TransitionStatus } from "../../utils/useTransitionStatus.js";
import type { HTMLProps } from "../../utils/types.js";
import { type FloatingRootContext } from "../../floating-ui-react/types.js";
import { PopupTriggerMap } from "../../utils/popupStoreUtils.js";
export type State<Payload> = {
  readonly open: boolean;
  readonly mounted: boolean;
  readonly modal: boolean | 'trap-focus';
  readonly disablePointerDismissal: boolean;
  readonly transitionStatus: TransitionStatus;
  readonly openMethod: InteractionType | null;
  readonly nested: boolean;
  readonly nestedOpenDialogCount: number;
  readonly titleElementId: string | undefined;
  readonly descriptionElementId: string | undefined;
  readonly activeTriggerId: string | null;
  readonly popupElement: HTMLElement | null;
  readonly viewportElement: HTMLElement | null;
  readonly triggers: PopupTriggerMap;
  readonly floatingRootContext: FloatingRootContext;
  readonly payload: Payload | undefined;
  readonly activeTriggerProps: HTMLProps;
  readonly inactiveTriggerProps: HTMLProps;
  readonly popupProps: HTMLProps;
  readonly role: 'dialog' | 'alertdialog';
};
type Context = {
  readonly popupRef: React.RefObject<HTMLElement | null>;
  readonly backdropRef: React.RefObject<HTMLDivElement | null>;
  readonly internalBackdropRef: React.RefObject<HTMLDivElement | null>;
  readonly preventUnmountingOnCloseRef: React.RefObject<boolean>;
  readonly onOpenChange?: (open: boolean, eventDetails: DialogRoot.ChangeEventDetails) => void;
  readonly onOpenChangeComplete?: (open: boolean) => void;
  readonly onNestedDialogOpen?: (ownChildrenCount: number) => void;
  readonly onNestedDialogClose?: () => void;
};
declare const selectors: {
  open: (state: State<unknown>) => boolean;
  modal: (state: State<unknown>) => boolean | "trap-focus";
  nested: (state: State<unknown>) => boolean;
  nestedOpenDialogCount: (state: State<unknown>) => number;
  disablePointerDismissal: (state: State<unknown>) => boolean;
  openMethod: (state: State<unknown>) => InteractionType | null;
  descriptionElementId: (state: State<unknown>) => string | undefined;
  titleElementId: (state: State<unknown>) => string | undefined;
  mounted: (state: State<unknown>) => boolean;
  transitionStatus: (state: State<unknown>) => TransitionStatus;
  popupProps: (state: State<unknown>) => HTMLProps;
  floatingRootContext: (state: State<unknown>) => FloatingRootContext<import("../../floating-ui-react/index.js").ReferenceType>;
  activeTriggerId: (state: State<unknown>) => string | null;
  activeTriggerElement: (state: State<unknown>) => HTMLElement | null;
  triggers: (state: State<unknown>) => PopupTriggerMap;
  popupElement: (state: State<unknown>) => HTMLElement | null;
  viewportElement: (state: State<unknown>) => HTMLElement | null;
  payload: (state: State<unknown>) => unknown;
  activeTriggerProps: (state: State<unknown>) => HTMLProps;
  inactiveTriggerProps: (state: State<unknown>) => HTMLProps;
  role: (state: State<unknown>) => "dialog" | "alertdialog";
};
export declare class DialogStore<Payload> extends ReactStore<State<Payload>, Context, typeof selectors> {
  constructor(initialState?: Partial<State<Payload>>);
  setOpen: (nextOpen: boolean, eventDetails: Omit<DialogRoot.ChangeEventDetails, "preventUnmountOnClose">) => void;
}
export {};