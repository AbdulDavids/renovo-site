import * as React from 'react';
import { ReactStore } from '@base-ui-components/utils/store';
import { MenuParent, MenuRoot } from "../root/MenuRoot.js";
import { type FloatingRootContext } from "../../floating-ui-react/index.js";
import { FloatingTreeStore } from "../../floating-ui-react/components/FloatingTreeStore.js";
import { TransitionStatus } from "../../utils/useTransitionStatus.js";
import { HTMLProps } from "../../utils/types.js";
import { PopupTriggerMap } from "../../utils/popupStoreUtils.js";
export type State<Payload> = {
  open: boolean;
  disabled: boolean;
  modal: boolean;
  mounted: boolean;
  allowMouseEnter: boolean;
  parent: MenuParent;
  rootId: string | undefined;
  activeIndex: number | null;
  hoverEnabled: boolean;
  stickIfOpen: boolean;
  positionerElement: HTMLElement | null;
  transitionStatus: TransitionStatus;
  instantType: 'dismiss' | 'click' | 'group' | undefined;
  lastOpenChangeReason: MenuRoot.ChangeEventReason | null;
  floatingRootContext: FloatingRootContext;
  floatingTreeRoot: FloatingTreeStore;
  floatingNodeId: string | undefined;
  floatingParentNodeId: string | null;
  itemProps: HTMLProps;
  popupProps: HTMLProps;
  payload: Payload | undefined;
  triggers: PopupTriggerMap;
  activeTriggerProps: HTMLProps;
  inactiveTriggerProps: HTMLProps;
  activeTriggerId: string | null;
  closeDelay: number;
  keyboardEventRelay: ((event: React.KeyboardEvent<any>) => void) | undefined;
};
type Context = {
  positionerRef: React.RefObject<HTMLElement | null>;
  popupRef: React.RefObject<HTMLElement | null>;
  typingRef: React.RefObject<boolean>;
  itemDomElements: React.RefObject<(HTMLElement | null)[]>;
  itemLabels: React.RefObject<(string | null)[]>;
  allowMouseUpTriggerRef: React.RefObject<boolean>;
  preventUnmountingRef: React.RefObject<boolean>;
  triggerFocusTargetRef: React.RefObject<HTMLElement | null>;
  beforeContentFocusGuardRef: React.RefObject<HTMLElement | null>;
  onOpenChangeComplete: ((open: boolean) => void) | undefined;
};
declare const selectors: {
  open: (state: State<unknown>) => boolean;
  disabled: (state: State<unknown>) => boolean;
  modal: (state: State<unknown>) => boolean;
  mounted: (state: State<unknown>) => boolean;
  activeTriggerId: (state: State<unknown>) => string | null;
  activeTriggerElement: (state: State<unknown>) => HTMLElement | null;
  isTriggerActive: (state: State<unknown>, triggerId: string | undefined) => boolean;
  isOpenedByTrigger: (state: State<unknown>, triggerId: string | undefined) => boolean;
  allowMouseEnter: (state: State<unknown>) => boolean;
  stickIfOpen: (state: State<unknown>) => boolean;
  parent: (state: State<unknown>) => MenuParent;
  rootId: (state: State<unknown>) => string | undefined;
  activeIndex: (state: State<unknown>) => number | null;
  isActive: (state: State<unknown>, itemIndex: number) => boolean;
  hoverEnabled: (state: State<unknown>) => boolean;
  positionerElement: (state: State<unknown>) => HTMLElement | null;
  transitionStatus: (state: State<unknown>) => TransitionStatus;
  instantType: (state: State<unknown>) => "group" | "click" | "dismiss" | undefined;
  lastOpenChangeReason: (state: State<unknown>) => import("../index.js").MenuRootChangeEventReason | null;
  floatingRootContext: (state: State<unknown>) => FloatingRootContext<import("../../floating-ui-react/index.js").ReferenceType>;
  floatingTreeRoot: (state: State<unknown>) => FloatingTreeStore<import("../../floating-ui-react/index.js").ReferenceType>;
  floatingNodeId: (state: State<unknown>) => string | undefined;
  floatingParentNodeId: (state: State<unknown>) => string | null;
  itemProps: (state: State<unknown>) => HTMLProps;
  popupProps: (state: State<unknown>) => HTMLProps;
  activeTriggerProps: (state: State<unknown>) => HTMLProps;
  inactiveTriggerProps: (state: State<unknown>) => HTMLProps;
  payload: (state: State<unknown>) => unknown;
  triggers: (state: State<unknown>) => PopupTriggerMap;
  closeDelay: (state: State<unknown>) => number;
  keyboardEventRelay: (state: State<unknown>) => React.KeyboardEventHandler<any> | undefined;
};
export declare class MenuStore<Payload> extends ReactStore<State<Payload>, Context, typeof selectors> {
  constructor(initialState?: Partial<State<Payload>>);
  setOpen(open: boolean, eventDetails: Omit<MenuRoot.ChangeEventDetails, 'preventUnmountOnClose'>): void;
  static useStore<Payload>(externalStore: MenuStore<Payload> | undefined, initialState: Partial<State<Payload>>): MenuStore<Payload>;
  private unsubscribeParentListener;
}
export {};